<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Crossword Puzzle</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #F1A9A0;
  }

  #background {
  position: fixed;
  inset: 0;
  z-index: -1; /* sits behind everything */
  overflow: hidden;
  }

  .crossword {
    display: grid;
    grid-template-columns: repeat(16, 40px);
    grid-template-rows: repeat(15, 40px);
    gap: 0;
    margin: 20px auto;
    width: 640px;
  }

  .cell {
    border: 1px solid #000;
    position: relative;
  }

  .cell input {
    width: 100%;
    height: 100%;
    border: none;
    text-align: center;
    font-size: 18px;
    text-transform: uppercase;
  }

  .cell input:focus {
    outline: none;
    background: #eef;
  }

  .black {
    background: #000;
  }

  .number {
    position: absolute;
    top: 2px;
    left: 3px;
    font-size: 10px;
  }

  .completed {
    text-align: center;
    font-size: 20px;
    color: green;
    display: none;
  }
  .pixel-block {
  position: absolute;
  width: 6em;
  height: 5em;
  pointer-events: none; /* optional */
  }
  .pixelized--heart {
  display: block;
  width: 1em;
  height: 1em;
  box-shadow:
	1em 0em #F22613,
	2em 0em #F22613,
	4em 0em #F22613,
	5em 0em #F22613,

	0em 1em #F22613,
	1em 1em #F22613,
	2em 1em #F22613,
	3em 1em #F22613,
	4em 1em #F22613,
	5em 1em #F22613,
	6em 1em #F22613,

	0em 2em #F22613,
	1em 2em #F22613,
	2em 2em #F22613,
	3em 2em #F22613,
	4em 2em #F22613,
	5em 2em #F22613,
	6em 2em #F22613,

	1em 3em #F22613,
	2em 3em #F22613,
	3em 3em #F22613,
	4em 3em #F22613,
	5em 3em #F22613,

	2em 4em #F22613,
	3em 4em #F22613,
	4em 4em #F22613,

	3em 5em #F22613;
}
.title {
  text-align: center;
  font-size: 1.5rem;
  margin: 20px 0 10px;
  color: #000;
  position: relative;
  z-index: 1; /* ensures it stays above background hearts */
}
body {
  position: relative;
  z-index: 0;
}
.clues-box {
  background: white;
  padding: 16px 20px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  max-width: 500px;
}

.clues-box h3 {
  margin-top: 0;
}

.clues-box ol {
  padding-left: 20px;
}
/* Wrap crossword + clues already exist as .foreground */
.foreground {
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.foreground.hidden {
  opacity: 0;
  transform: scale(0.9);
  pointer-events: none;
}

/* BOOM text */
#boom {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 6rem;
  font-weight: bold;
  color: #000;
  opacity: 0;
  transform: scale(0.5);
  transition: opacity 0.6s ease, transform 0.6s ease;
  z-index: 20;
  pointer-events: none;
}

#boom.show {
  opacity: 1;
  transform: scale(1);
}
</style>
</head>

<body>
<h1 class="title">a baby crossword for a baby bingington</h1>
<div id="background">  </div>
<div class="foreground">
  <div style="display:flex; gap:40px; justify-content:center;">

    <!-- Crossword -->
    <div>
      <div class="crossword" id="crossword"></div>
      <div class="completed" id="completed">Puzzle Completed!</div>
    </div>

    <!-- Clues -->
    <div class="clues-box">
      <h3>Across</h3>
      <ul id="across-clues" class="clue-list"></ul>
      <h3>Down</h3>
      <ul id="down-clues" class="clue-list"></ul>
    </div>
  </div>
</div>
<div id="boom">BOOOMMü§ØüòÅü§ìü•∞‚ù§Ô∏è‚úÖ</div>
<script>
// 15 rows x 16 cols
// NOTE: Cells marked with answer:"?" are in the region that is not perfectly legible
// for exact ROW alignment in the photo. Everything else is confidently placed.

const grid = [
  // row 0
  [null,null,null,null,null,{number:1, answer:"C"},{answer:"H"},{answer:"I"},{answer:"N"},{answer:"E"},{number:2, answer:"S"},{answer:"E"},null,{number:3, answer:"S"},null,null],
  // row 1 
  [null,null,null,null,null,null,null,null,null,null,{answer:"L"},null, null,{answer:"W"},null,null],
  // row 2
  [null,null,null,{number:4, answer:"W"},null,{number:5, answer:"M"},null,null,{number:6, answer:"C"},{answer:"H"},{answer:"E"},{answer:"E"},{answer:"S"},{answer:"E"},null,null],

  // row 3
  [null,null,null,{answer:"E"},null, {answer:"O"},null, null,null,null,{answer:"E"},null,null,{answer:"A"},null,null],

  // row 4  (INGTON ... plus crossings)
  [{number:7, answer:"I"},{answer:"N"},{answer:"G"},{answer:"T"},{answer:"O"},{answer:"N"}, null, null,{number:8, answer:"F"},null,{answer:"P"},null,null,{answer:"T"},null,null],

  // row 5 (BABY ... plus MONKEY end and SWEATY end)
  [null,null,null,null,null,{answer:"K"},null,{number:9,answer:"B"},{answer:"A"},{answer:"B"},{answer:"Y"},null,null,{answer:"Y"},null,null],

  // row 6 (MONKEY ends, FALCON continues)
  [null,null,null,null,null,{answer:"E"},null,null,{answer:"L"},null,null,null,null,null,null,null],

  // row 7 (CHUBBY across, BOWLING starts at col3, FALCON has C at col8)
  [{number:10, answer:"C"},{answer:"H"},{answer:"U"},{number:11, answer:"B"},{answer:"B"},{answer:"Y"},null,null,{answer:"C"},null,null,null,null,null,null,null],

  // row 8 (BOWLING continues, CHOPPED across, HUNGRY starts on far right)
  [null,null,null,{answer:"O"},null,null,{number:12, answer:"C"},{answer:"H"},{answer:"O"},{answer:"P"},{answer:"P"},{answer:"E"},{number:13, answer:"D"},null,null,null],

  // row 9 (BOWLING continues, CRACK continues, FALCON ends with N under O, DAWN continues, HUNGRY continues)
  [null,null,null,{answer:"W"},null,null,{answer:"R"},null,{answer:"N"},null,null,null,{answer:"A"},null,{number:14, answer:"H"},null],

  // row 10  ----- AMBIGUOUS ROW ALIGNMENT STARTS HERE -----
  // This row contains one of: (BOWLING L) and/or (FIERCE) depending on a one-row shift.
  [null,null,null,{answer:"L"},null,null,{answer:"A"},null,null,null,null,null,{answer:"W"},null,{answer:"U"},null],

  // row 11  (this is where FIERCE+MORNING appear, but could be row 10 instead)
  [null,null,{number:15, answer:"F"},{answer:"I"},{answer:"E"},{answer:"R"},{answer:"C"},{answer:"E"},null,{number:16,answer:"M"},{number:17, answer:"O"},{answer:"R"},{answer:"N"},{answer:"I"},{answer:"N"},{answer:"G"}],

  // row 12 (continuations under the MORNING/HUNGRY column area)
  [null,null,null,{answer:"N"},null,null,{answer:"K"},null,null,null,{answer: "F"},null,null,null,{answer:"G"},null],

  // row 13
  [null,null,null,{answer:"G"},null,null,null,null,null,null,null,null,null,null,{answer:"R"},null],

  // row 14
  [null,null,null,null,null,null,null,null,null,null,null,null,null,null,{answer:"Y"},null],
];

const clues = {
  across: {
    1: "ethic group despised by a particular med student",
    6: "product of wisconsin",
    7: "popular suffix",
    9: "subject of relevant studies",
    10: "one of my goals is to make you a bit",
    12: "could be in pieces, phrase: (6across) (12down) not the best",
    15: "rawr",
    16: "early in the day"
  },
  down: {
    2: "sometimes i get a bit __",
    3: "particularly active at temperature regulation",
    4: "phrase: (4down) (3down) (5down) something i find sometimes in the morning",
    5: "tik tok thought they could fight a big one",
    8: "2 phrases: (15across) (16across) (8down) a true classic and (2down) (9across) (8down) alternate for lazy days",
    11: "quirk of mine, popular birthday activity",
    12: "could do this to a nut",
    13: "initial appearence of light",
    14: "sometimes you get a bit",
    17: "phrase: (12down) (17down) (13down) my time of arisal, alledgedly"

  }
};

const crossword = document.getElementById("crossword");
const completed = document.getElementById("completed");

let currentDirection = "across"; // "across" or "down"
const inputs = [];
const inputMap = new Map();

grid.forEach((row, r) => {
  row.forEach((cell, c) => {
    if (cell === null) {
      const div = document.createElement("div");
      div.className = "cell black";
      crossword.appendChild(div);
    } else {
      const div = document.createElement("div");
      div.className = "cell";

      if (cell.number) {
        const num = document.createElement("div");
        num.className = "number";
        num.textContent = cell.number;
        div.appendChild(num);
      }

      const input = document.createElement("input");
      input.maxLength = 1;
      input.dataset.answer = cell.answer;
      input.dataset.row = r;
      input.dataset.col = c;

      inputs.push(input);
      inputMap.set(`${r},${c}`, input);

      input.addEventListener("click", () => setDirection(r, c));
      input.addEventListener("input", () => {
        input.value = input.value.toUpperCase();
        moveNext(r, c);
        checkCompletion();
      });

      div.appendChild(input);
      crossword.appendChild(div);
    }
  });
});

function hasCell(r, c) {
  return grid[r] && grid[r][c] !== null;
}

function setDirection(r, c) {
  const canAcross = hasCell(r, c + 1);
  const canDown = hasCell(r + 1, c);

  if (canAcross && canDown) {
    currentDirection = currentDirection === "across" ? "down" : "across";
  } else if (canAcross) {
    currentDirection = "across";
  } else if (canDown) {
    currentDirection = "down";
  }
}

function moveNext(r, c) {
  let nextR = r;
  let nextC = c;

  if (currentDirection === "across") nextC++;
  else nextR++;

  const next = inputMap.get(`${nextR},${nextC}`);
  if (next) next.focus();
}

function renderClues() {
  const acrossList = document.getElementById("across-clues");
  const downList = document.getElementById("down-clues");

  for (const num in clues.across) {
    const li = document.createElement("li");
    li.textContent = `${num}. ${clues.across[num]}`;
    acrossList.appendChild(li);
  }

  for (const num in clues.down) {
    const li = document.createElement("li");
    li.textContent = `${num}. ${clues.down[num]}`;
    downList.appendChild(li);
  }
}

const ROWS = 4;
const COLS = 6;
const PADDING = 20; // inner padding per cell (px)

const bg = document.getElementById("background");

const cellWidth = window.innerWidth / COLS;
const cellHeight = window.innerHeight / ROWS;

for (let row = 0; row < ROWS; row++) {
  for (let col = 0; col < COLS; col++) {

    const block = document.createElement("div");
    block.className = "pixel-block";

    const heart = document.createElement("span");
    heart.className = "pixelized--heart";
    block.appendChild(heart);

    const minX = col * cellWidth + PADDING;
    const maxX = (col + 1) * cellWidth - PADDING;
    const minY = row * cellHeight + PADDING;
    const maxY = (row + 1) * cellHeight - PADDING;

    const x = minX + Math.random() * (maxX - minX);
    const y = minY + Math.random() * (maxY - minY);

    const scale = 0.5;
    block.style.left = `${x}px`;
    block.style.top = `${y}px`;
    block.style.transform = `scale(${scale})`;

    bg.appendChild(block);
  }
}

renderClues();
function checkCompletion() {
  const done = inputs.every(i => i.value);
  if (done) {
    document.querySelector(".foreground").classList.add("hidden");
    document.getElementById("boom").classList.add("show");
  }
}

</script>
</body>
</html>
